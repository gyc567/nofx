## 1. 数据库迁移

- [ ] 1.1 为用户表添加 `beta_code` 字段
- [ ] 1.2 更新已有用户的 `beta_code` 字段（基于注册记录）
- [ ] 1.3 验证迁移数据的完整性

## 2. 后端认证逻辑重构

- [ ] 2.1 修改 `handleLogin` 函数，增加内测码验证
- [ ] 2.2 移除 `auth.go` 中的 `AdminMode` 相关代码
- [ ] 2.3 更新 `handleGetSystemConfig`，移除 `admin_mode` 字段
- [ ] 2.4 修改注册流程，将内测码关联到用户账户
- [ ] 2.5 添加内测码验证辅助函数

## 3. 前端代码更新

- [ ] 3.1 修改 `AuthContext.tsx`，移除 admin 模式检查和自动登录
- [ ] 3.2 优化登录页面错误提示，区分"内测码无效"和"密码错误"
- [ ] 3.3 测试认证流程完整性

## 4. 测试与验证

- [ ] 4.1 内测模式下，无内测码用户无法登录
- [ ] 4.2 内测码无效用户无法登录
- [ ] 4.3 有效内测码用户可以正常登录
- [ ] 4.4 非内测模式下，所有用户正常登录
- [ ] 4.5 admin@localhost 自动登录已移除
- [ ] 4.6 注册流程正常工作

## 5. 清理与文档

- [ ] 5.1 删除或注释所有 `AdminMode` 相关配置
- [ ] 5.2 更新 API 文档，说明新的认证流程
- [ ] 5.3 创建迁移指南，说明破坏性变更

## 6. 部署准备

- [ ] 6.1 数据库迁移脚本
- [ ] 6.2 回滚计划
- [ ] 6.3 部署检查清单
