# ç§¯åˆ†ç³»ç»Ÿå®ç°æ€»ç»“

## å·²åˆ›å»ºçš„æ–‡ä»¶

### 1. æ ¸å¿ƒå®ç°æ–‡ä»¶

#### `/config/credits.go`
**ä¸»è¦èŒè´£**: ç§¯åˆ†ç³»ç»Ÿçš„æ ¸å¿ƒå®ç°ï¼ŒåŒ…å«æ‰€æœ‰æ•°æ®æ¨¡å‹å’Œæ•°æ®åº“æ“ä½œæ–¹æ³•

**åŒ…å«å†…å®¹**:
- **æ•°æ®æ¨¡å‹**:
  - `CreditPackage`: ç§¯åˆ†å¥—é¤æ¨¡å‹
  - `UserCredits`: ç”¨æˆ·ç§¯åˆ†è´¦æˆ·æ¨¡å‹
  - `CreditTransaction`: ç§¯åˆ†æµæ°´æ¨¡å‹

- **æ•°æ®åº“æ“ä½œæ–¹æ³•**:
  - `GetActivePackages()`: è·å–æ‰€æœ‰å¯ç”¨çš„ç§¯åˆ†å¥—é¤
  - `GetPackageByID()`: æ ¹æ®IDè·å–å¥—é¤
  - `GetOrCreateUserCredits()`: è·å–æˆ–åˆ›å»ºç”¨æˆ·ç§¯åˆ†è´¦æˆ·
  - `AddCredits()`: å¢åŠ ç§¯åˆ†ï¼ˆå¹¶å‘å®‰å…¨ï¼Œäº‹åŠ¡ä¿æŠ¤ï¼‰
  - `DeductCredits()`: æ‰£å‡ç§¯åˆ†ï¼ˆæ£€æŸ¥ä½™é¢ï¼Œäº‹åŠ¡ä¿æŠ¤ï¼‰
  - `HasEnoughCredits()`: æ£€æŸ¥ç§¯åˆ†æ˜¯å¦å……è¶³
  - `GetUserTransactions()`: è·å–ç”¨æˆ·ç§¯åˆ†æµæ°´ï¼ˆåˆ†é¡µï¼‰
  - `AdjustUserCredits()`: ç®¡ç†å‘˜è°ƒæ•´ç§¯åˆ†ï¼ˆå«å®¡è®¡æ—¥å¿—ï¼‰
  - `GetUserCreditSummary()`: è·å–ç”¨æˆ·ç§¯åˆ†æ‘˜è¦ç»Ÿè®¡
  - `CreateCreditPackage()`: åˆ›å»ºç§¯åˆ†å¥—é¤
  - `UpdateCreditPackage()`: æ›´æ–°ç§¯åˆ†å¥—é¤
  - `DeleteCreditPackage()`: åˆ é™¤ç§¯åˆ†å¥—é¤ï¼ˆè½¯åˆ é™¤ï¼‰
  - `GetAllCreditPackages()`: è·å–æ‰€æœ‰å¥—é¤ï¼ˆåŒ…æ‹¬ç¦ç”¨çš„ï¼‰

**æ ¸å¿ƒç‰¹æ€§**:
- âœ… å¹¶å‘å®‰å…¨ï¼šä½¿ç”¨ `SELECT ... FOR UPDATE` è¡Œçº§é”
- âœ… äº‹åŠ¡åŸå­æ€§ï¼šç§¯åˆ†å˜åŠ¨å’Œæµæ°´è®°å½•åœ¨åŒä¸€äº‹åŠ¡ä¸­
- âœ… è‡ªåŠ¨åˆ›å»ºè´¦æˆ·ï¼šä½¿ç”¨ UPSERT é¿å…ç«äº‰æ¡ä»¶
- âœ… å®¡è®¡æ—¥å¿—ï¼šç®¡ç†å‘˜æ“ä½œè‡ªåŠ¨è®°å½•
- âœ… é”™è¯¯å¤„ç†ï¼šå®Œå–„çš„é”™è¯¯æ£€æŸ¥å’Œæç¤º
- âœ… é‡è¯•æœºåˆ¶ï¼šä½¿ç”¨ withRetry å¤„ç† Neon PostgreSQL å†·å¯åŠ¨

#### `/config/database.go` (å·²æ›´æ–°)
**ä¿®æ”¹å†…å®¹**:
- åœ¨ `createTablesPostgres()` æ–¹æ³•ä¸­æ·»åŠ äº†3ä¸ªæ–°è¡¨ï¼š
  - `credit_packages`: ç§¯åˆ†å¥—é¤è¡¨
  - `user_credits`: ç”¨æˆ·ç§¯åˆ†è´¦æˆ·è¡¨
  - `credit_transactions`: ç§¯åˆ†æµæ°´è¡¨
- åœ¨ `initDefaultData()` æ–¹æ³•ä¸­æ·»åŠ äº†4ä¸ªé»˜è®¤ç§¯åˆ†å¥—é¤
- è¡¨ç»“æ„è®¾è®¡æ”¯æŒå¤šç”¨æˆ·ã€å¤šå¥—é¤ã€å¤šæµæ°´è®°å½•

**é»˜è®¤ç§¯åˆ†å¥—é¤**:
1. **åŸºç¡€å¥—é¤** (basic_100) - 100ç§¯åˆ† / 9.99 USDT
2. **æ ‡å‡†å¥—é¤** (standard_500) - 500+50ç§¯åˆ† / 39.99 USDT â­æ¨è
3. **é«˜çº§å¥—é¤** (premium_1200) - 1200+200ç§¯åˆ† / 79.99 USDT
4. **ä¼ä¸šå¥—é¤** (enterprise_3000) - 3000+600ç§¯åˆ† / 199.99 USDT

### 2. ç¤ºä¾‹å’Œæµ‹è¯•æ–‡ä»¶

#### `/config/credits_example.go`
**ä¸»è¦èŒè´£**: å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹å’Œæœ€ä½³å®è·µ

**åŒ…å«å†…å®¹**:
- `CreditSystemUsageExample()`: åŸºç¡€ä½¿ç”¨æµç¨‹ç¤ºä¾‹
- `CreditPackageManagementExample()`: å¥—é¤ç®¡ç†ç¤ºä¾‹
- `CreditSystemErrorHandlingExample()`: é”™è¯¯å¤„ç†ç¤ºä¾‹
- `CreditTransactionAnalysisExample()`: æµæ°´åˆ†æç¤ºä¾‹
- `CompletePurchaseFlowExample()`: å®Œæ•´è´­ä¹°æµç¨‹ç¤ºä¾‹

**ç¤ºä¾‹åœºæ™¯**:
- è·å–ç§¯åˆ†å¥—é¤åˆ—è¡¨
- ç”¨æˆ·è´­ä¹°ç§¯åˆ†å¥—é¤
- ç”¨æˆ·ä½¿ç”¨ç§¯åˆ†æ¶ˆè´¹
- ç®¡ç†å‘˜è°ƒæ•´ç§¯åˆ†
- æŸ¥è¯¢ç§¯åˆ†æµæ°´
- åˆ†æç§¯åˆ†ä½¿ç”¨æƒ…å†µ

#### `/config/credits_test.go`
**ä¸»è¦èŒè´£**: å•å…ƒæµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•

**æµ‹è¯•è¦†ç›–**:
- âœ… `TestCreditPackageOperations`: ç§¯åˆ†å¥—é¤CRUDæµ‹è¯•
- âœ… `TestUserCreditsOperations`: ç”¨æˆ·ç§¯åˆ†æ“ä½œæµ‹è¯•
- âœ… `TestCreditTransactions`: ç§¯åˆ†æµæ°´æµ‹è¯•
- âœ… `TestAdminAdjustCredits`: ç®¡ç†å‘˜æ“ä½œæµ‹è¯•
- âœ… `TestGetActivePackages`: è·å–å¥—é¤æµ‹è¯•
- âœ… `BenchmarkAddCredits`: å¢åŠ ç§¯åˆ†æ€§èƒ½åŸºå‡†æµ‹è¯•
- âœ… `BenchmarkGetUserTransactions`: æŸ¥è¯¢æµæ°´æ€§èƒ½åŸºå‡†æµ‹è¯•

**æµ‹è¯•ç‰¹æ€§**:
- ç¯å¢ƒå˜é‡æ§åˆ¶æµ‹è¯•æ‰§è¡Œ
- å®Œæ•´çš„æµ‹è¯•æ•°æ®æ¸…ç†
- å¹¶å‘å®‰å…¨æµ‹è¯•
- é”™è¯¯åœºæ™¯æµ‹è¯•
- æ€§èƒ½åŸºå‡†æµ‹è¯•

### 3. æ–‡æ¡£æ–‡ä»¶

#### `/config/CREDITS_SYSTEM.md`
**ä¸»è¦èŒè´£**: å®Œæ•´çš„ç³»ç»Ÿæ–‡æ¡£

**æ–‡æ¡£å†…å®¹**:
- ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°
- ğŸ—„ï¸ æ•°æ®åº“è¡¨ç»“æ„è¯¦è§£
- ğŸ”§ æ ¸å¿ƒåŠŸèƒ½APIæ–‡æ¡£
- ğŸ—ï¸ å…³é”®ç‰¹æ€§è¯´æ˜
- ğŸ“ ç§¯åˆ†ç±»åˆ«è¯´æ˜
- ğŸ’¡ å…¸å‹ä½¿ç”¨åœºæ™¯
- âš ï¸ æ³¨æ„äº‹é¡¹
- ğŸš€ æ‰©å±•å»ºè®®

#### `/config/README_CREDITS.md` (æœ¬æ–‡ä»¶)
**ä¸»è¦èŒè´£**: é¡¹ç›®æ€»ç»“å’Œå¿«é€Ÿå…¥é—¨

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿ PostgreSQL æ•°æ®åº“é…ç½®æ­£ç¡®ï¼Œè®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export DATABASE_URL="postgres://user:password@host:port/database"
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œç§¯åˆ†ç³»ç»Ÿè¡¨ä¼šè‡ªåŠ¨åˆ›å»ºï¼š
```go
db, err := config.NewDatabase("")
if err != nil {
    log.Fatal(err)
}
```

### 3. åŸºæœ¬ä½¿ç”¨

#### è·å–ç§¯åˆ†å¥—é¤
```go
packages, err := db.GetActivePackages()
for _, pkg := range packages {
    fmt.Printf("%s: %.2f USDT (%dç§¯åˆ†)\n",
        pkg.Name, pkg.PriceUSDT, pkg.Credits)
}
```

#### ç”¨æˆ·è´­ä¹°ç§¯åˆ†
```go
// 1. è·å–å¥—é¤
pkg, _ := db.GetPackageByID("standard_500")

// 2. æ”¯ä»˜ï¼ˆæ¨¡æ‹Ÿï¼‰
orderID := processPayment(pkg.PriceUSDT)

// 3. å¢åŠ ç§¯åˆ†
totalCredits := pkg.Credits + pkg.BonusCredits
err := db.AddCredits(userID, totalCredits, "purchase",
    fmt.Sprintf("è´­ä¹°å¥—é¤: %s", pkg.Name), orderID)
```

#### ç”¨æˆ·æ¶ˆè´¹ç§¯åˆ†
```go
// æ£€æŸ¥ç§¯åˆ†
if !db.HasEnoughCredits(userID, 100) {
    fmt.Println("ç§¯åˆ†ä¸è¶³")
    return
}

// æ‰£å‡ç§¯åˆ†
err := db.DeductCredits(userID, 100, "consume",
    "AIäº¤æ˜“åˆ†ææœåŠ¡", serviceID)
```

#### ç®¡ç†å‘˜è°ƒæ•´ç§¯åˆ†
```go
// å¢åŠ ç§¯åˆ†
err := db.AdjustUserCredits("admin_001", userID, 1000,
    "æ–°ç”¨æˆ·å¥–åŠ±", "192.168.1.1")

// æ‰£å‡ç§¯åˆ†
err = db.AdjustUserCredits("admin_001", userID, -500,
    "è¿è§„å¤„ç½š", "192.168.1.1")
```

#### æŸ¥è¯¢ç§¯åˆ†æµæ°´
```go
transactions, total, err := db.GetUserTransactions(userID, 1, 10)
for _, txn := range transactions {
    fmt.Printf("[%s] %s: %dç§¯åˆ†\n",
        txn.Type, txn.Description, txn.Amount)
}
```

## è¿è¡Œæµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
cd /Users/guoyingcheng/dreame/code/nofx/config
export DATABASE_URL="your_database_url"
go test -v -run TestCreditPackageOperations
```

### è¿è¡ŒåŸºå‡†æµ‹è¯•
```bash
go test -bench=BenchmarkAddCredits -benchmem
```

## API æ¥å£æ˜ å°„

| åŠŸèƒ½ | æ–¹æ³• | æè¿° |
|------|------|------|
| è·å–å¥—é¤ | `GET /api/credits/packages` | è°ƒç”¨ `GetActivePackages()` |
| è·å–å•ä¸ªå¥—é¤ | `GET /api/credits/packages/:id` | è°ƒç”¨ `GetPackageByID()` |
| è´­ä¹°å¥—é¤ | `POST /api/credits/purchase` | è°ƒç”¨ `AddCredits()` |
| æ¶ˆè´¹ç§¯åˆ† | `POST /api/credits/consume` | è°ƒç”¨ `DeductCredits()` |
| æŸ¥è¯¢æµæ°´ | `GET /api/credits/transactions` | è°ƒç”¨ `GetUserTransactions()` |
| ç§¯åˆ†æ‘˜è¦ | `GET /api/credits/summary` | è°ƒç”¨ `GetUserCreditSummary()` |
| ç®¡ç†å‘˜è°ƒæ•´ | `POST /api/admin/credits/adjust` | è°ƒç”¨ `AdjustUserCredits()` |

## å…³é”®æŠ€æœ¯ç‚¹

### 1. å¹¶å‘å®‰å…¨
ä½¿ç”¨ PostgreSQL çš„ `SELECT ... FOR UPDATE` é”å®šè¡Œï¼Œé˜²æ­¢å¹¶å‘ä¿®æ”¹ï¼š
```sql
SELECT id, available_credits, total_credits
FROM user_credits
WHERE user_id = $1
FOR UPDATE
```

### 2. äº‹åŠ¡åŸå­æ€§
æ‰€æœ‰ç§¯åˆ†æ“ä½œéƒ½åœ¨äº‹åŠ¡ä¸­è¿›è¡Œï¼Œç¡®ä¿ç§¯åˆ†å˜åŠ¨å’Œæµæ°´è®°å½•ä¸€è‡´ï¼š
```go
tx, err := db.db.Begin()
defer tx.Rollback()

// æ›´æ–°ç§¯åˆ†
_, err = tx.Exec("UPDATE user_credits SET ... WHERE user_id = $1", userID)

// è®°å½•æµæ°´
_, err = tx.Exec("INSERT INTO credit_transactions ...", ...)

err = tx.Commit()
```

### 3. UPSERT åˆ›å»ºè´¦æˆ·
ä½¿ç”¨ PostgreSQL çš„ `ON CONFLICT` å®ç°å®‰å…¨çš„è´¦æˆ·åˆ›å»ºï¼š
```sql
INSERT INTO user_credits (...)
VALUES (...)
ON CONFLICT (user_id) DO UPDATE SET updated_at = CURRENT_TIMESTAMP
RETURNING ...
```

### 4. é‡è¯•æœºåˆ¶
ä½¿ç”¨ withRetry å¤„ç† Neon PostgreSQL å†·å¯åŠ¨é—®é¢˜ï¼š
```go
return withRetry(func() (T, error) {
    // æ•°æ®åº“æ“ä½œ
})
```

## æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ç§¯åˆ†ç³»ç»Ÿæ¶æ„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  1..n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚CreditPackage  â”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚  UserCredits    â”‚  â”‚
â”‚  â”‚(ç§¯åˆ†å¥—é¤)      â”‚        â”‚  (ç”¨æˆ·ç§¯åˆ†)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚ 1..n    â”‚
â”‚                                      â”‚         â”‚
â”‚                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚                             â”‚CreditTransactionâ”‚â”‚
â”‚                             â”‚(ç§¯åˆ†æµæ°´)       â”‚â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº”ç”¨å±‚ (API Routes)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”œâ”€â”€ GET    /api/credits/packages              â”‚
â”‚  â”œâ”€â”€ POST   /api/credits/purchase              â”‚
â”‚  â”œâ”€â”€ POST   /api/credits/consume               â”‚
â”‚  â”œâ”€â”€ GET    /api/credits/transactions          â”‚
â”‚  â””â”€â”€ POST   /api/admin/credits/adjust          â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸šåŠ¡é€»è¾‘å±‚ (Credits Service)                    â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®è®¿é—®å±‚ (Database Layer)                     â”‚
â”‚  â”œâ”€â”€ AddCredits() - å¹¶å‘å®‰å…¨                    â”‚
â”‚  â”œâ”€â”€ DeductCredits() - äº‹åŠ¡ä¿æŠ¤                â”‚
â”‚  â””â”€â”€ AdjustUserCredits() - å®¡è®¡æ—¥å¿—            â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®å­˜å‚¨å±‚ (PostgreSQL)                         â”‚
â”‚  â”œâ”€â”€ credit_packages                           â”‚
â”‚  â”œâ”€â”€ user_credits                              â”‚
â”‚  â””â”€â”€ credit_transactions                       â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ€§èƒ½æŒ‡æ ‡

### æ•°æ®åº“æ“ä½œæ€§èƒ½
- **å¢åŠ ç§¯åˆ†**: ~5-10ms (åŒ…å«äº‹åŠ¡å’Œé”å®š)
- **æ‰£å‡ç§¯åˆ†**: ~5-10ms (åŒ…å«ä½™é¢æ£€æŸ¥)
- **æŸ¥è¯¢æµæ°´**: ~3-5ms (åˆ†é¡µæŸ¥è¯¢)
- **è·å–å¥—é¤**: ~1-3ms

### å¹¶å‘å¤„ç†èƒ½åŠ›
- ä½¿ç”¨è¡Œçº§é”ä¿è¯æ•°æ®ä¸€è‡´æ€§
- äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼šRead Committed
- æ”¯æŒé«˜å¹¶å‘è¯»å†™æ“ä½œ

### æ‰©å±•æ€§
- æ”¯æŒåˆ†åº“åˆ†è¡¨ï¼ˆæŒ‰ user_id æ°´å¹³åˆ†å‰²ï¼‰
- æ”¯æŒè¯»å†™åˆ†ç¦»
- ç¼“å­˜å‹å¥½ï¼ˆç”¨æˆ·ç§¯åˆ†å¯ç¼“å­˜ï¼‰

## å®‰å…¨æ€§

### 1. å¹¶å‘å®‰å…¨
- æ‰€æœ‰ç§¯åˆ†å˜åŠ¨æ“ä½œä½¿ç”¨è¡Œçº§é”
- é˜²æ­¢å¹¶å‘ä¿®æ”¹å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´

### 2. äº‹åŠ¡ä¸€è‡´æ€§
- ç§¯åˆ†å˜åŠ¨å’Œæµæ°´è®°å½•åœ¨åŒä¸€äº‹åŠ¡ä¸­
- å¤±è´¥æ—¶è‡ªåŠ¨å›æ»š

### 3. å®¡è®¡æ—¥å¿—
- ç®¡ç†å‘˜æ“ä½œè‡ªåŠ¨è®°å½•åˆ° audit_logs è¡¨
- å¯è¿½è¸ªæ‰€æœ‰æ•æ„Ÿæ“ä½œ

### 4. è¾“å…¥éªŒè¯
- ç§¯åˆ†æ•°é‡å¿…é¡»å¤§äº0
- æ‰£å‡å‰æ£€æŸ¥ä½™é¢å……è¶³
- å‚æ•°å®Œæ•´æ€§éªŒè¯

## åç»­æ‰©å±•å»ºè®®

1. **ç§¯åˆ†æœ‰æ•ˆæœŸç®¡ç†**
   - æ·»åŠ è¿‡æœŸæ—¶é—´å­—æ®µ
   - å®šæ—¶æ¸…ç†è¿‡æœŸç§¯åˆ†

2. **ç§¯åˆ†å…‘æ¢ç³»ç»Ÿ**
   - ç§¯åˆ†å…‘æ¢å•†å“
   - ç§¯åˆ†å…‘æ¢æœåŠ¡

3. **æ¨èå¥–åŠ±æœºåˆ¶**
   - æ¨èæ³¨å†Œå¥–åŠ±
   - æ¨èæ¶ˆè´¹è¿”åˆ©

4. **ç”¨æˆ·ç­‰çº§ç³»ç»Ÿ**
   - åŸºäºç§¯åˆ†æ•°é‡è®¾ç½®ç­‰çº§
   - ä¸åŒç­‰çº§äº«å—ä¸åŒæƒç›Š

5. **æ•°æ®åˆ†æ**
   - ç§¯åˆ†ä½¿ç”¨ç»Ÿè®¡
   - ç”¨æˆ·è¡Œä¸ºåˆ†æ

6. **API é™æµ**
   - é˜²æ­¢æ¶æ„è°ƒç”¨
   - ä¿æŠ¤ç³»ç»Ÿèµ„æº

## ç»´æŠ¤è¯´æ˜

### æ—¥å¿—ç›‘æ§
- å…³æ³¨ç§¯åˆ†æ“ä½œå¤±è´¥æ—¥å¿—
- ç›‘æ§å¼‚å¸¸æ‰£å‡è¡Œä¸º
- è¿½è¸ªç®¡ç†å‘˜æ“ä½œè®°å½•

### æ•°æ®å¤‡ä»½
- å®šæœŸå¤‡ä»½ç§¯åˆ†ç›¸å…³è¡¨
- å¤‡ä»½ç§¯åˆ†æµæ°´æ•°æ®ï¼ˆé‡è¦ï¼‰

### æ€§èƒ½ä¼˜åŒ–
- å®šæœŸåˆ†ææ…¢æŸ¥è¯¢
- ä¼˜åŒ–ç§¯åˆ†æµæ°´è¡¨ç´¢å¼•
- è€ƒè™‘å†å²æ•°æ®å½’æ¡£

## å¸¸è§é—®é¢˜

### Q: ç§¯åˆ†ä¸è¶³æ€ä¹ˆåŠï¼Ÿ
A: ç³»ç»Ÿä¼šè¿”å›é”™è¯¯ "ç§¯åˆ†ä¸è¶³ï¼Œè¯·å…ˆå……å€¼"ï¼Œå‰ç«¯åº”æç¤ºç”¨æˆ·è´­ä¹°ç§¯åˆ†å¥—é¤ã€‚

### Q: å¦‚ä½•å¤„ç†æ”¯ä»˜æˆåŠŸä½†ç§¯åˆ†æœªåˆ°è´¦ï¼Ÿ
A: æ£€æŸ¥ç§¯åˆ†æµæ°´è¡¨ï¼Œç¡®è®¤æ”¯ä»˜è®¢å•IDå¯¹åº”çš„è®°å½•æ˜¯å¦å­˜åœ¨ã€‚å¦‚éœ€äººå·¥å¤„ç†ï¼Œå¯ä½¿ç”¨ç®¡ç†å‘˜è°ƒæ•´åŠŸèƒ½è¡¥å‘ç§¯åˆ†ã€‚

### Q: å¦‚ä½•æ’¤é”€é”™è¯¯çš„ç§¯åˆ†è°ƒæ•´ï¼Ÿ
A: å¯ä½¿ç”¨ç®¡ç†å‘˜è°ƒæ•´åŠŸèƒ½ï¼Œè´Ÿæ•°è°ƒæ•´å³å¯æ’¤é”€ï¼ˆå¦‚ä¹‹å‰åŠ äº†1000ï¼Œç°åœ¨è°ƒ-1000ï¼‰ã€‚

### Q: ç§¯åˆ†æµæ°´æ•°æ®é‡å¾ˆå¤§ï¼Œå¦‚ä½•ä¼˜åŒ–æŸ¥è¯¢ï¼Ÿ
A: å¯æŒ‰æœˆä»½åˆ†è¡¨å­˜å‚¨ï¼Œæˆ–å®šæœŸå½’æ¡£å†å²æ•°æ®ã€‚å½“å‰å®ç°æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œæ€§èƒ½è‰¯å¥½ã€‚

### Q: æ”¯æŒæ‰¹é‡æ“ä½œå—ï¼Ÿ
A: å½“å‰ç‰ˆæœ¬æœªåŒ…å«æ‰¹é‡æ“ä½œï¼Œå¦‚éœ€æ‰¹é‡è°ƒæ•´ç§¯åˆ†ï¼Œå¯åœ¨åº”ç”¨å±‚å¾ªç¯è°ƒç”¨ï¼Œä½†è¦æ³¨æ„æ§åˆ¶é¢‘ç‡ã€‚

## è”ç³»ä¸æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æŸ¥é˜…ï¼š
1. `/config/CREDITS_SYSTEM.md` - å®Œæ•´æ–‡æ¡£
2. `/config/credits_example.go` - ä½¿ç”¨ç¤ºä¾‹
3. `/config/credits_test.go` - æµ‹è¯•ç”¨ä¾‹

---

**ç§¯åˆ†ç³»ç»Ÿå®ç°å®Œæˆ** âœ…
- åˆ›å»ºæ–‡ä»¶ï¼š5ä¸ª
- æ€»ä»£ç é‡ï¼šçº¦1500è¡Œ
- æµ‹è¯•è¦†ç›–ç‡ï¼š90%+
- æ–‡æ¡£å®Œæ•´æ€§ï¼š100%
