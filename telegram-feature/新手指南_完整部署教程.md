# ğŸ¤– Monnaire Trading Agent OSæ–°æ‰‹æŒ‡å— - ä»é›¶å¼€å§‹éƒ¨ç½²å’Œè¿è¡Œ

> **ä¸“ä¸ºæ–°æ‰‹ç¼–å†™ | å›¾æ–‡å¹¶èŒ‚ | é›¶åŸºç¡€ä¹Ÿèƒ½éƒ¨ç½²** ğŸ“š
>
> ä½œè€…ï¼šClaude CodeåŠ©æ‰‹
>
> é€‚ç”¨ç‰ˆæœ¬ï¼šMonnaire Trading Agent OS v1.0+
>
> é¢„è®¡å®Œæˆæ—¶é—´ï¼š30-60åˆ†é’Ÿ

---

## ğŸ“‹ ç›®å½•

- [1. ç®€ä»‹ä¸æ¦‚è¿°](#1-ç®€ä»‹ä¸æ¦‚è¿°)
- [2. ç³»ç»Ÿè¦æ±‚](#2-ç³»ç»Ÿè¦æ±‚)
- [3. è·å–APIå¯†é’¥](#3-è·å–apiå¯†é’¥)
- [4. æ–¹æ¡ˆé€‰æ‹©](#4-æ–¹æ¡ˆé€‰æ‹©)
- [5. æœ¬åœ°éƒ¨ç½²æ•™ç¨‹](#5-æœ¬åœ°éƒ¨ç½²æ•™ç¨‹)
- [6. äº‘æœåŠ¡å™¨éƒ¨ç½²æ•™ç¨‹](#6-äº‘æœåŠ¡å™¨éƒ¨ç½²æ•™ç¨‹)
- [7. é…ç½®è¯¦è§£](#7-é…ç½®è¯¦è§£)
- [8. æ•…éšœæ’é™¤](#8-æ•…éšœæ’é™¤)
- [9. é«˜çº§é…ç½®](#9-é«˜çº§é…ç½®)
- [10. ç»´æŠ¤ä¸æ›´æ–°](#10-ç»´æŠ¤ä¸æ›´æ–°)
- [11. å®‰å…¨å»ºè®®](#11-å®‰å…¨å»ºè®®)
- [12. å¸¸è§é—®é¢˜](#12-å¸¸è§é—®é¢˜)

---

## 1. ç®€ä»‹ä¸æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯Monnaire Trading Agent OSï¼Ÿ

Monnaire Trading Agent OSæ˜¯ä¸€ä¸ªåŸºäºAIçš„åŠ å¯†è´§å¸æœŸè´§è‡ªåŠ¨äº¤æ˜“ç³»ç»Ÿï¼Œæ”¯æŒï¼š
- **å¤šAIæ¨¡å‹**ï¼šDeepSeekã€Qwenç­‰
- **å¤šäº¤æ˜“æ‰€**ï¼šBinanceã€Hyperliquidã€Aster DEX
- **å¤šäº¤æ˜“ç­–ç•¥**ï¼šå…¨è‡ªåŠ¨AIäº¤æ˜“ï¼Œæ— éœ€äººå·¥å¹²é¢„
- **å®æ—¶ç›‘æ§**ï¼šä¸“ä¸šçš„Webç•Œé¢
- **ç«èµ›æ¨¡å¼**ï¼šå¤šAIå®ç›˜å¯¹æˆ˜

### 1.2 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             å‰ç«¯ (React + Vite)              â”‚
â”‚              ç«¯å£: 3000                      â”‚
â”‚           è´Ÿè´£å±•ç¤ºå’Œäº¤äº’                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ APIè¯·æ±‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             åç«¯ (Go + Gin)                  â”‚
â”‚              ç«¯å£: 8080                      â”‚
â”‚         è´Ÿè´£ä¸šåŠ¡é€»è¾‘å’ŒAIå†³ç­–                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ äº¤æ˜“API
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            äº¤æ˜“æ‰€ (Binanceç­‰)                â”‚
â”‚         å®é™…æ‰§è¡Œäº¤æ˜“æ“ä½œ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 æ ¸å¿ƒæ–‡ä»¶ç»“æ„

```
nofx/
â”œâ”€â”€ main.go                    # ç¨‹åºå…¥å£
â”œâ”€â”€ config.json                # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ web/                       # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ src/                   # Reactæºç 
â”‚   â”œâ”€â”€ package.json           # å‰ç«¯ä¾èµ–
â”‚   â””â”€â”€ dist/                  # æ„å»ºè¾“å‡º
â”‚
â”œâ”€â”€ decision/                  # AIå†³ç­–å¼•æ“
â”‚   â””â”€â”€ engine.go              # åŒæç¤ºè¯æ¶æ„
â”‚
â”œâ”€â”€ trader/                    # äº¤æ˜“æ¨¡å—
â”‚   â”œâ”€â”€ auto_trader.go         # è‡ªåŠ¨äº¤æ˜“
â”‚   â””â”€â”€ binance_futures.go     # å¸å®‰API
â”‚
â”œâ”€â”€ market/                    # å¸‚åœºæ•°æ®
â”‚   â””â”€â”€ data.go                # Kçº¿ã€æŠ€æœ¯æŒ‡æ ‡
â”‚
â”œâ”€â”€ pool/                      # å¸ç§æ± 
â”‚   â””â”€â”€ coin_pool.go           # AI500 + OI Top
â”‚
â””â”€â”€ logger/                    # æ—¥å¿—ç³»ç»Ÿ
    â””â”€â”€ decision_logger.go     # äº¤æ˜“è®°å½•
```

---

## 2. ç³»ç»Ÿè¦æ±‚

### 2.1 ç¡¬ä»¶è¦æ±‚

| ç»„ä»¶ | æœ€ä½é…ç½® | æ¨èé…ç½® |
|------|----------|----------|
| **CPU** | 1æ ¸å¿ƒ | 2æ ¸å¿ƒ+ |
| **å†…å­˜** | 2GB | 4GB+ |
| **ç¡¬ç›˜** | 5GB | 20GB+ |
| **ç½‘ç»œ** | 10Mbps | 50Mbps+ |

### 2.2 è½¯ä»¶ä¾èµ–

#### å¿…å¤‡è½¯ä»¶

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” |
|------|----------|------|
| **Git** | ä»»æ„ç‰ˆæœ¬ | ä»£ç ç®¡ç† |
| **Docker** | 20.10+ | å®¹å™¨åŒ–éƒ¨ç½² |
| **Docker Compose** | 2.0+ | å¤šå®¹å™¨ç¼–æ’ |
| **Go** | 1.25+ | åç«¯å¼€å‘ |
| **Node.js** | 18+ | å‰ç«¯å¼€å‘ |
| **npm** | ä»»æ„ç‰ˆæœ¬ | åŒ…ç®¡ç† |

#### å¯é€‰è½¯ä»¶

| è½¯ä»¶ | ç”¨é€” |
|------|------|
| **PM2** | è¿›ç¨‹ç®¡ç† |
| **Nginx** | åå‘ä»£ç† |
| **Nvidia-Docker** | GPUåŠ é€Ÿï¼ˆå¦‚éœ€è¦ï¼‰ |

### 2.3 å®‰è£…ä¾èµ–

#### macOS

```bash
# å®‰è£… Homebrewï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£… Git
brew install git

# å®‰è£… Docker Desktop
# è®¿é—® https://www.docker.com/products/docker-desktop ä¸‹è½½å®‰è£…

# å®‰è£… Go
brew install go

# å®‰è£… Node.js
brew install node

# å®‰è£… PM2ï¼ˆå¯é€‰ï¼‰
npm install -g pm2
```

#### Ubuntu/Debian

```bash
# æ›´æ–°åŒ…åˆ—è¡¨
sudo apt update

# å®‰è£… Git
sudo apt install -y git

# å®‰è£… Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# å®‰è£… Docker Compose
sudo apt install -y docker-compose-plugin

# å®‰è£… Go
wget https://go.dev/dl/go1.25.linux-amd64.tar.gz
sudo tar -C /usr/local -xzf go1.25.linux-amd64.tar.gz
echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc
source ~/.bashrc

# å®‰è£… Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# å®‰è£… PM2ï¼ˆå¯é€‰ï¼‰
sudo npm install -g pm2
```

#### Windows

1. **Git**: ä¸‹è½½ [Git for Windows](https://git-scm.com/download/win)
2. **Docker Desktop**: ä¸‹è½½ [Docker Desktop for Windows](https://www.docker.com/products/docker-desktop)
3. **Go**: ä¸‹è½½ [Go for Windows](https://go.dev/dl/)
4. **Node.js**: ä¸‹è½½ [Node.js for Windows](https://nodejs.org/)

### 2.4 éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥æ‰€æœ‰ä¾èµ–
git --version
docker --version
docker compose version  # æ³¨æ„ï¼šä½¿ç”¨ç©ºæ ¼
go version
node --version
npm --version

# å¦‚æœå…¨éƒ¨æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼
```

---

## 3. è·å–APIå¯†é’¥

åœ¨é…ç½®ç³»ç»Ÿä¹‹å‰ï¼Œä½ éœ€è¦è·å–ä»¥ä¸‹APIå¯†é’¥ã€‚

### 3.1 DeepSeek AIå¯†é’¥ï¼ˆå¿…éœ€ï¼‰

**ç”¨é€”**ï¼šé©±åŠ¨AIäº¤æ˜“å†³ç­–

**è·å–æ­¥éª¤**ï¼š
1. è®¿é—® [DeepSeekå¹³å°](https://platform.deepseek.com/)
2. æ³¨å†Œè´¦æˆ·å¹¶å®Œæˆå®åè®¤è¯
3. è¿›å…¥æ§åˆ¶å° â†’ APIå¯†é’¥ç®¡ç†
4. åˆ›å»ºæ–°å¯†é’¥ï¼Œå¤åˆ¶ä¿å­˜

**è´¹ç”¨**ï¼šæ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦ï¼Œåç»­æŒ‰ä½¿ç”¨é‡è®¡è´¹

### 3.2 å¸å®‰APIå¯†é’¥ï¼ˆæ¨èï¼‰

**ç”¨é€”**ï¼šè¿æ¥å¸å®‰äº¤æ˜“æ‰€è¿›è¡Œå®é™…äº¤æ˜“

**è·å–æ­¥éª¤**ï¼š
1. ç™»å½• [å¸å®‰è´¦æˆ·](https://www.binance.com/)
2. è¿›å…¥ä¸ªäººä¸­å¿ƒ â†’ APIç®¡ç†
3. åˆ›å»ºæ–°APIå¯†é’¥
4. è®¾ç½®æƒé™ï¼š
   - âœ… è¯»å–ä¿¡æ¯
   - âœ… æœŸè´§äº¤æ˜“
   - âŒ æç°ï¼ˆå®‰å…¨è€ƒè™‘ï¼‰
5. ä¿å­˜API Keyå’ŒSecret Key

**é‡è¦**ï¼š
- å¸å®‰éœ€è¦å¼€å¯åŒå‘æŒä»“æ¨¡å¼ï¼ˆè¯¦è§[å¸¸è§é—®é¢˜](#12-å¸¸è§é—®é¢˜)ï¼‰
- å»ºè®®åˆ›å»ºå­è´¦æˆ·è¿›è¡Œæµ‹è¯•

### 3.3 Hyperliquid APIï¼ˆå¯é€‰ï¼‰

**ç”¨é€”**ï¼šè¿æ¥Hyperliquidå»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€

**è·å–æ­¥éª¤**ï¼š
1. ç”Ÿæˆä»¥å¤ªåŠç§é’¥ï¼ˆç”¨äºç­¾åäº¤æ˜“ï¼‰
2. è®°å½•ç§é’¥å’Œé’±åŒ…åœ°å€

**æ³¨æ„**ï¼š
- Hyperliquidæ˜¯å»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€
- æ— éœ€API Keyï¼Œåªéœ€ç§é’¥
- æ›´å®‰å…¨ï¼Œä½†ç”Ÿæ€è¾ƒå°

### 3.4 Aster APIï¼ˆå¯é€‰ï¼‰

**ç”¨é€”**ï¼šè¿æ¥Aster DEXå»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€

**è·å–æ­¥éª¤**ï¼š
1. è®¿é—® [Aster APIé’±åŒ…](https://www.asterdex.com/en/api-wallet)
2. è¿æ¥ä¸»é’±åŒ…
3. åˆ›å»ºAPIé’±åŒ…
4. å¤åˆ¶Signeråœ°å€å’Œç§é’¥

---

## 4. æ–¹æ¡ˆé€‰æ‹©

Monnaire Trading Agent OSæ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼Œè¯·æ ¹æ®éœ€æ±‚é€‰æ‹©ï¼š

### 4.1 éƒ¨ç½²æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | éš¾åº¦ | æˆæœ¬ | é€‚ç”¨åœºæ™¯ | æ¨èåº¦ |
|------|------|------|----------|--------|
| **æœ¬åœ°Docker** | â­ | ğŸ†“ | å¼€å‘æµ‹è¯• | â­â­â­â­â­ |
| **PM2æœ¬åœ°** | â­â­ | ğŸ†“ | å¼€å‘è°ƒè¯• | â­â­â­ |
| **Vercel+Railway** | â­â­ | ğŸ†“/ğŸ’° | ç”Ÿäº§éƒ¨ç½² | â­â­â­â­â­ |
| **äº‘æœåŠ¡å™¨** | â­â­â­ | ğŸ’°ğŸ’° | ä¼ä¸šä½¿ç”¨ | â­â­â­ |
| **Docker Swarm** | â­â­â­â­ | ğŸ’°ğŸ’° | å¤§è§„æ¨¡éƒ¨ç½² | â­â­ |

### 4.2 æ–°æ‰‹æ¨èè·¯çº¿

```mermaid
graph TD
    A[æ–°æ‰‹å…¥é—¨] --> B[æœ¬åœ°Dockeréƒ¨ç½²]
    B --> C[æµ‹è¯•åŠŸèƒ½]
    C --> D{æ˜¯å¦æ»¡æ„?}
    D -->|æ˜¯| E[ç»§ç»­æœ¬åœ°å¼€å‘]
    D -->|å¦| F[è°ƒæ•´é…ç½®]
    F --> C
    E --> G[äº‘ç«¯éƒ¨ç½²]
    G --> H[ç”Ÿäº§ä½¿ç”¨]
```

**å»ºè®®æµç¨‹**ï¼š
1. **ç¬¬1æ­¥**ï¼šæœ¬åœ°Dockeréƒ¨ç½²ï¼ˆ10åˆ†é’Ÿï¼‰
2. **ç¬¬2æ­¥**ï¼šç†Ÿæ‚‰åŠŸèƒ½ï¼ˆ20åˆ†é’Ÿï¼‰
3. **ç¬¬3æ­¥**ï¼šäº‘ç«¯éƒ¨ç½²ï¼ˆ30åˆ†é’Ÿï¼‰
4. **ç¬¬4æ­¥**ï¼šç”Ÿäº§ä½¿ç”¨

---

## 5. æœ¬åœ°éƒ¨ç½²æ•™ç¨‹

### 5.1 æ–¹æ¡ˆAï¼šDockerä¸€é”®éƒ¨ç½²ï¼ˆæ¨èâ­â­â­â­â­ï¼‰

**ä¼˜åŠ¿**ï¼š
- âœ… æœ€ç®€å•ï¼Œ3æ­¥å®Œæˆ
- âœ… éš”ç¦»æ€§å¥½
- âœ… æ”¯æŒæ‰€æœ‰å¹³å°
- âœ… ä¸€é”®å¯åŠ¨/åœæ­¢

#### æ­¥éª¤1ï¼šå…‹éš†é¡¹ç›®

```bash
# å…‹éš†ä»£ç ï¼ˆæ›¿æ¢ä¸ºä½ çš„ä»“åº“åœ°å€ï¼‰
git clone https://github.com/yourusername/nofx.git
cd nofx

# æˆ–ç›´æ¥ä¸‹è½½å‹ç¼©åŒ…å¹¶è§£å‹
```

#### æ­¥éª¤2ï¼šé…ç½®ç¯å¢ƒ

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# 2. å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿
cp config.json.example config.json

# 3. ç¼–è¾‘é…ç½®æ–‡ä»¶
nano config.json  # æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨
```

**config.jsoné…ç½®ç¤ºä¾‹**ï¼š

```json
{
  "traders": [
    {
      "id": "my_trader",
      "name": "My First AI Trader",
      "enabled": true,
      "ai_model": "deepseek",
      "exchange": "binance",
      "binance_api_key": "YOUR_BINANCE_API_KEY",
      "binance_secret_key": "YOUR_BINANCE_SECRET_KEY",
      "deepseek_key": "YOUR_DEEPSEEK_KEY",
      "initial_balance": 1000.0,
      "scan_interval_minutes": 3,
      "btc_eth_leverage": 5,
      "altcoin_leverage": 5
    }
  ],
  "leverage": {
    "btc_eth_leverage": 5,
    "altcoin_leverage": 5
  },
  "use_default_coins": true,
  "default_coins": [
    "BTCUSDT",
    "ETHUSDT",
    "SOLUSDT"
  ],
  "api_server_port": 8080,
  "max_daily_loss": 10.0,
  "max_drawdown": 20.0,
  "stop_trading_minutes": 60
}
```

#### æ­¥éª¤3ï¼šå¯åŠ¨æœåŠ¡

```bash
# ä¸€é”®å¯åŠ¨ï¼ˆé¦–æ¬¡ä¼šæ„å»ºé•œåƒï¼‰
./start.sh start --build

# æˆ–è€…ä½¿ç”¨åŸç”Ÿå‘½ä»¤
docker compose up -d --build
```

#### æ­¥éª¤4ï¼šéªŒè¯éƒ¨ç½²

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
./start.sh status

# æŸ¥çœ‹æ—¥å¿—
./start.sh logs

# è®¿é—®Webç•Œé¢
# æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000
```

**æˆåŠŸæ ‡å¿—**ï¼š
- çœ‹åˆ°Webç•Œé¢æ­£å¸¸åŠ è½½
- æ§åˆ¶å°æ˜¾ç¤ºäº¤æ˜“çŠ¶æ€
- æ— é”™è¯¯æ—¥å¿—

### 5.2 æ–¹æ¡ˆBï¼šPM2å¼€å‘éƒ¨ç½²

**ä¼˜åŠ¿**ï¼š
- âœ… çƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç æ— éœ€é‡å¯
- âœ… å®æ—¶æŸ¥çœ‹æ—¥å¿—
- âœ… èµ„æºå ç”¨ä½
- âŒ éœ€è¦æ‰‹åŠ¨ç®¡ç†ä¾èµ–

#### æ­¥éª¤1ï¼šå®‰è£…PM2

```bash
npm install -g pm2
```

#### æ­¥éª¤2ï¼šç¼–è¯‘åç«¯

```bash
# å®‰è£…Goä¾èµ–
go mod download

# ç¼–è¯‘åç«¯
go build -o nofx .
```

#### æ­¥éª¤3ï¼šå®‰è£…å‰ç«¯ä¾èµ–

```bash
cd web
npm install
cd ..
```

#### æ­¥éª¤4ï¼šå¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨å‰åç«¯
./pm2.sh start

# æŸ¥çœ‹çŠ¶æ€
./pm2.sh status

# æŸ¥çœ‹æ—¥å¿—
./pm2.sh logs
```

#### æ­¥éª¤5ï¼šè®¿é—®

- å‰ç«¯ï¼šhttp://localhost:3000
- åç«¯ï¼šhttp://localhost:8080

### 5.3 æœ¬åœ°éƒ¨ç½²å¸¸è§é—®é¢˜

#### é—®é¢˜1ï¼šDockeræ„å»ºå¤±è´¥

```bash
# æ¸…ç†Dockerç¼“å­˜
docker system prune -a

# é‡æ–°æ„å»º
./start.sh start --build
```

#### é—®é¢˜2ï¼šç«¯å£è¢«å ç”¨

```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
lsof -i :8080
lsof -i :3000

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# æˆ–ä¿®æ”¹ç«¯å£
# ç¼–è¾‘ .env æ–‡ä»¶
MONNAIRE_BACKEND_PORT=8081
MONNAIRE_FRONTEND_PORT=3001
```

#### é—®é¢˜3ï¼šGoç¼–è¯‘å¤±è´¥

```bash
# æ£€æŸ¥Goç‰ˆæœ¬
go version

# å¿…é¡»æ˜¯ 1.25+
# å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼Œå‡çº§Go
```

#### é—®é¢˜4ï¼šå‰ç«¯ä¾èµ–å®‰è£…å¤±è´¥

```bash
# æ¸…ç†npmç¼“å­˜
npm cache clean --force

# åˆ é™¤node_modulesé‡æ–°å®‰è£…
cd web
rm -rf node_modules
npm install
```

---

## 6. äº‘æœåŠ¡å™¨éƒ¨ç½²æ•™ç¨‹

### 6.1 æ–¹æ¡ˆï¼šVercel + Railwayï¼ˆæ¨èâ­â­â­â­â­ï¼‰

**ä¼˜åŠ¿**ï¼š
- âœ… å…è´¹é¢åº¦
- âœ… å…¨çƒCDNåŠ é€Ÿ
- âœ… è‡ªåŠ¨æ‰©å®¹
- âœ… è‡ªåŠ¨HTTPS
- âœ… é›¶è¿ç»´

**é€‚ç”¨åœºæ™¯**ï¼š
- å…¬å¼€ç½‘ç«™
- ç”Ÿäº§ç¯å¢ƒ
- å¤šåœ°è®¿é—®

**è´¹ç”¨**ï¼š
- Vercelï¼šä¸ªäººç‰ˆå…è´¹
- Railwayï¼š$5/æœˆå…è´¹é¢åº¦

#### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·æµè§ˆå™¨            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ HTTPS
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Vercel (å…¨çƒCDN)     â”‚
â”‚  Reactå‰ç«¯           â”‚
â”‚  é™æ€èµ„æº            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ APIè¯·æ±‚
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Railway (äº‘æœåŠ¡å™¨)   â”‚
â”‚  Goåç«¯æœåŠ¡          â”‚
â”‚  è‡ªåŠ¨éƒ¨ç½²            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é˜¶æ®µ1ï¼šå‡†å¤‡ä»£ç 

```bash
# 1. ç™»å½•GitHubï¼Œåˆ›å»ºæ–°ä»“åº“
# è®¿é—® https://github.com/new

# 2. åˆå§‹åŒ–Gitå¹¶æ¨é€
git init
git add .
git commit -m "init: nofx project"
git branch -M main
git remote add origin https://github.com/yourusername/nofx.git
git push -u origin main
```

#### é˜¶æ®µ2ï¼šéƒ¨ç½²åç«¯åˆ°Railway

**æ­¥éª¤1ï¼šåˆ›å»ºRailwayé¡¹ç›®**

1. æ‰“å¼€ [https://railway.app](https://railway.app)
2. ç‚¹å‡» **"Login"** â†’ **"Login with GitHub"**
3. æˆæƒGitHubè®¿é—®

**æ­¥éª¤2ï¼šéƒ¨ç½²ä»£ç **

1. ç‚¹å‡» **"New Project"**
2. é€‰æ‹© **"Deploy from GitHub repo"**
3. é€‰æ‹©ä½ çš„Monnaire Trading Agent OSä»“åº“
4. Railwayè‡ªåŠ¨æ£€æµ‹Goé¡¹ç›®å¹¶å¼€å§‹æ„å»º

**æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒå˜é‡**

åœ¨Railwayé¡¹ç›®é¡µé¢ï¼Œç‚¹å‡» **"Variables"** æ ‡ç­¾ï¼š

```bash
# å¿…éœ€çš„ç¯å¢ƒå˜é‡
MONNAIRE_BACKEND_PORT=8080
MONNAIRE_TIMEZONE=Asia/Shanghai

# äº¤æ˜“APIå¯†é’¥ï¼ˆæ›¿æ¢ä¸ºä½ çš„çœŸå®å¯†é’¥ï¼‰
DEEPSEEK_KEY=sk-your-deepseek-key
BINANCE_API_KEY=your-binance-api-key
BINANCE_SECRET_KEY=your-binance-secret-key
HYPERLIQUID_PRIVATE_KEY=your-private-key

# é…ç½®æ–‡ä»¶
# æ–¹æ³•1ï¼šä¸Šä¼ config.jsonæ–‡ä»¶åˆ°ä»“åº“æ ¹ç›®å½•
# æ–¹æ³•2ï¼šè®¾ç½®ç¯å¢ƒå˜é‡CONFIG_FILEï¼Œå€¼ä¸ºå®Œæ•´çš„config.jsonå†…å®¹
CONFIG_FILE={"traders":[...]}
```

**æ­¥éª¤4ï¼šè·å–åç«¯URL**

1. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦3-5åˆ†é’Ÿï¼‰
2. ç‚¹å‡» **"Domains"** æ ‡ç­¾
3. è®°å½•URLï¼Œä¾‹å¦‚ï¼š`https://monnoire-backend-123.railway.app`
4. æµ‹è¯•è®¿é—®ï¼š`https://monnoire-backend-123.railway.app/health`
5. åº”è¯¥è¿”å›ï¼š`{"status":"ok"}`

#### é˜¶æ®µ3ï¼šéƒ¨ç½²å‰ç«¯åˆ°Vercel

**æ­¥éª¤1ï¼šåˆ›å»ºVercelé¡¹ç›®**

1. æ‰“å¼€ [https://vercel.com](https://vercel.com)
2. ç‚¹å‡» **"Sign Up"** â†’ **"Continue with GitHub"**
3. æˆæƒGitHubè®¿é—®

**æ­¥éª¤2ï¼šå¯¼å…¥é¡¹ç›®**

1. ç‚¹å‡» **"New Project"**
2. é€‰æ‹©ä½ çš„Monnaire Trading Agent OSä»“åº“
3. Vercelè‡ªåŠ¨æ£€æµ‹ä¸ºViteé¡¹ç›®

**æ­¥éª¤3ï¼šé…ç½®æ„å»ºè®¾ç½®**

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| **Framework Preset** | Vite |
| **Root Directory** | `web` |
| **Build Command** | `npm run build` |
| **Output Directory** | `dist` |
| **Install Command** | `npm install` |

**æ­¥éª¤4ï¼šé…ç½®ç¯å¢ƒå˜é‡**

ç‚¹å‡» **"Environment Variables"**ï¼Œæ·»åŠ ï¼š

```bash
# é‡è¦ï¼šæ›¿æ¢ä¸ºä½ çš„Railwayåç«¯URL
VITE_API_URL=https://monnoire-backend-123.railway.app

# åº”ç”¨é…ç½®
VITE_APP_TITLE=Monnaire Trading Agent OS AIäº¤æ˜“å¹³å°
VITE_APP_VERSION=1.0.0
```

**æ­¥éª¤5ï¼šéƒ¨ç½²**

1. ç‚¹å‡» **"Deploy"**
2. ç­‰å¾…æ„å»ºå®Œæˆï¼ˆçº¦2-3åˆ†é’Ÿï¼‰
3. è·å–å‰ç«¯URLï¼Œä¾‹å¦‚ï¼š`https://nofx-frontend-456.vercel.app`

#### é˜¶æ®µ4ï¼šè”è°ƒæµ‹è¯•

**æµ‹è¯•1ï¼šåç«¯å¥åº·æ£€æŸ¥**

```bash
# æµè§ˆå™¨è®¿é—®
https://monnoire-backend-123.railway.app/health

# é¢„æœŸè¿”å›
{"status":"ok"}
```

**æµ‹è¯•2ï¼šå‰ç«¯è®¿é—®**

```bash
# æµè§ˆå™¨è®¿é—®
https://nofx-frontend-456.vercel.app

# é¢„æœŸçœ‹åˆ°
Monnaire Trading Agent OSäº¤æ˜“ç•Œé¢
```

**æµ‹è¯•3ï¼šAPIè°ƒç”¨**

1. æ‰“å¼€å‰ç«¯ç•Œé¢
2. æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·
3. æŸ¥çœ‹Consoleé€‰é¡¹å¡
4. ä¸åº”æœ‰CORSé”™è¯¯
5. åº”è¯¥æœ‰æ•°æ®è¯·æ±‚æˆåŠŸ

#### é˜¶æ®µ5ï¼šè‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

**åç«¯åŸŸåï¼ˆRailwayï¼‰**ï¼š

1. Railwayé¡¹ç›® â†’ **Settings** â†’ **Domains**
2. ç‚¹å‡» **"Custom Domain"**
3. è¾“å…¥ï¼š`api.yourdomain.com`
4. é…ç½®DNSï¼š
   - ç±»å‹ï¼šCNAME
   - åç§°ï¼šapi
   - æŒ‡å‘ï¼šyour-app.railway.app

**å‰ç«¯åŸŸåï¼ˆVercelï¼‰**ï¼š

1. Vercelé¡¹ç›® â†’ **Settings** â†’ **Domains**
2. ç‚¹å‡» **"Add"**
3. è¾“å…¥ï¼š`nofx.yourdomain.com`
4. é…ç½®DNSï¼š
   - ç±»å‹ï¼šCNAME
   - åç§°ï¼šnofx
   - æŒ‡å‘ï¼šcname.vercel-dns.com

### 6.2 æ–¹æ¡ˆBï¼šäº‘æœåŠ¡å™¨ç‹¬ç«‹éƒ¨ç½²

**é€‚ç”¨åœºæ™¯**ï¼š
- éœ€è¦å®Œå…¨æ§åˆ¶
- ä¼ä¸šå†…ç½‘
- ç‰¹æ®Šåˆè§„è¦æ±‚

**å‡†å¤‡äº‘æœåŠ¡å™¨**ï¼š

| é¡¹ç›® | è¦æ±‚ |
|------|------|
| **æ“ä½œç³»ç»Ÿ** | Ubuntu 20.04+ / CentOS 8+ |
| **é…ç½®** | 2æ ¸4G |
| **ç¡¬ç›˜** | 40GB SSD |
| **å¸¦å®½** | 5Mbps+ |
| **å®‰å…¨ç»„** | å¼€æ”¾ 80, 443, 22 ç«¯å£ |

**éƒ¨ç½²æ­¥éª¤**ï¼š

```bash
# 1. è¿æ¥æœåŠ¡å™¨
ssh root@your-server-ip

# 2. å®‰è£…ä¾èµ–
apt update
apt install -y git docker.io docker-compose

# 3. å…‹éš†ä»£ç 
git clone https://github.com/yourusername/nofx.git
cd nofx

# 4. é…ç½®ç¯å¢ƒ
cp .env.example .env
cp config.json.example config.json
nano config.json  # ç¼–è¾‘é…ç½®æ–‡ä»¶

# 5. å¯åŠ¨æœåŠ¡
docker compose up -d

# 6. é…ç½®Nginxåå‘ä»£ç†
apt install -y nginx
# ... é…ç½®Nginxï¼ˆè¯¦è§[é«˜çº§é…ç½®](#9-é«˜çº§é…ç½®)ï¼‰

# 7. é…ç½®HTTPS
apt install -y certbot python3-certbot-nginx
certbot --nginx -d yourdomain.com
```

---

## 7. é…ç½®è¯¦è§£

### 7.1 config.json å®Œæ•´é…ç½®

```json
{
  "traders": [
    {
      "id": "unique_trader_id",
      "name": "æ˜¾ç¤ºåç§°",
      "enabled": true,
      "ai_model": "deepseek",
      "exchange": "binance",
      "binance_api_key": "YOUR_API_KEY",
      "binance_secret_key": "YOUR_SECRET_KEY",
      "deepseek_key": "YOUR_DEEPSEEK_KEY",
      "initial_balance": 1000.0,
      "scan_interval_minutes": 3,
      "btc_eth_leverage": 5,
      "altcoin_leverage": 5
    }
  ],
  "leverage": {
    "btc_eth_leverage": 5,
    "altcoin_leverage": 5
  },
  "use_default_coins": true,
  "default_coins": [
    "BTCUSDT",
    "ETHUSDT",
    "SOLUSDT",
    "BNBUSDT",
    "XRPUSDT",
    "DOGEUSDT",
    "ADAUSDT",
    "HYPEUSDT"
  ],
  "coin_pool_api_url": "",
  "oi_top_api_url": "",
  "api_server_port": 8080,
  "max_daily_loss": 10.0,
  "max_drawdown": 20.0,
  "stop_trading_minutes": 60
}
```

### 7.2 å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|------|
| **traders** | Array | âœ… | äº¤æ˜“å‘˜é…ç½®æ•°ç»„ | - |
| **traders[].id** | String | âœ… | å”¯ä¸€æ ‡è¯†ç¬¦ | "my_trader" |
| **traders[].name** | String | âœ… | æ˜¾ç¤ºåç§° | "My AI Trader" |
| **traders[].enabled** | Boolean | âœ… | æ˜¯å¦å¯ç”¨ | true |
| **traders[].ai_model** | String | âœ… | AIæ¨¡å‹ | "deepseek" |
| **traders[].exchange** | String | âœ… | äº¤æ˜“æ‰€ | "binance" |
| **traders[].binance_api_key** | String | âš ï¸ | å¸å®‰API Key | "xxx" |
| **traders[].binance_secret_key** | String | âš ï¸ | å¸å®‰Secret | "xxx" |
| **traders[].deepseek_key** | String | âš ï¸ | DeepSeek Key | "sk-xxx" |
| **traders[].initial_balance** | Number | âœ… | åˆå§‹èµ„é‡‘ | 1000.0 |
| **traders[].scan_interval_minutes** | Number | âœ… | æ‰«æé—´éš”ï¼ˆåˆ†é’Ÿï¼‰ | 3 |
| **leverage.btc_eth_leverage** | Number | âœ… | BTC/ETHæ æ† | 5 |
| **leverage.altcoin_leverage** | Number | âœ… | å±±å¯¨å¸æ æ† | 5 |
| **use_default_coins** | Boolean | âœ… | ä½¿ç”¨é»˜è®¤å¸ç§ | true |
| **default_coins** | Array | âš ï¸ | é»˜è®¤å¸ç§åˆ—è¡¨ | ["BTCUSDT"] |
| **api_server_port** | Number | âœ… | APIç«¯å£ | 8080 |
| **max_daily_loss** | Number | âœ… | æœ€å¤§æ—¥äºæŸ% | 10.0 |
| **max_drawdown** | Number | âœ… | æœ€å¤§å›æ’¤% | 20.0 |

**å¤‡æ³¨**ï¼š
- âš ï¸ = å¦‚æœä½¿ç”¨å¯¹åº”äº¤æ˜“æ‰€åˆ™å¿…éœ€
- æ æ†å»ºè®®ï¼šæ–°æ‰‹â‰¤5ï¼Œè€æ‰‹â‰¤10

### 7.3 ç¯å¢ƒå˜é‡é…ç½®

#### .env æ–‡ä»¶

```bash
# ç«¯å£é…ç½®
MONNAIRE_BACKEND_PORT=8080
MONNAIRE_FRONTEND_PORT=3000

# æ—¶åŒºé…ç½®
MONNAIRE_TIMEZONE=Asia/Shanghai
```

#### web/.env.local æ–‡ä»¶ï¼ˆå‰ç«¯ï¼‰

```bash
# APIåœ°å€
VITE_API_URL=http://localhost:8080

# åº”ç”¨ä¿¡æ¯
VITE_APP_TITLE=Monnaire Trading Agent OS AIäº¤æ˜“å¹³å°
VITE_APP_VERSION=1.0.0
```

#### Railwayç¯å¢ƒå˜é‡

```bash
# æœåŠ¡é…ç½®
MONNAIRE_BACKEND_PORT=8080
MONNAIRE_TIMEZONE=Asia/Shanghai

# äº¤æ˜“API
DEEPSEEK_KEY=sk-xxx
BINANCE_API_KEY=xxx
BINANCE_SECRET_KEY=xxx

# é…ç½®æ–‡ä»¶
CONFIG_FILE={"traders":[...]}
```

#### Vercelç¯å¢ƒå˜é‡

```bash
VITE_API_URL=https://your-backend.railway.app
VITE_APP_TITLE=Monnaire Trading Agent OS
VITE_APP_VERSION=1.0.0
```

---

## 8. æ•…éšœæ’é™¤

### 8.1 è¯Šæ–­å·¥å…·

#### æ£€æŸ¥è„šæœ¬

```bash
# è¿è¡Œéƒ¨ç½²æ£€æŸ¥è„šæœ¬
chmod +x scripts/deploy-check.sh
./scripts/deploy-check.sh
```

#### æ‰‹åŠ¨æ£€æŸ¥

```bash
# 1. æ£€æŸ¥å®¹å™¨çŠ¶æ€
./start.sh status

# 2. æŸ¥çœ‹å®æ—¶æ—¥å¿—
./start.sh logs

# 3. æµ‹è¯•åç«¯å¥åº·
curl http://localhost:8080/health

# 4. æ£€æŸ¥ç«¯å£
netstat -tulpn | grep 8080
netstat -tulpn | grep 3000
```

### 8.2 å¸¸è§é”™è¯¯åŠè§£å†³

#### é”™è¯¯1ï¼šé¡µé¢ç©ºç™½

**ç°è±¡**ï¼šå‰ç«¯é¡µé¢æ— æ³•åŠ è½½æˆ–æ˜¾ç¤ºç©ºç™½

**å¯èƒ½åŸå› **ï¼š
- ç¯å¢ƒå˜é‡VITE_API_URLæœªé…ç½®
- åç«¯æœåŠ¡æœªå¯åŠ¨
- CORSé…ç½®é”™è¯¯

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æ£€æŸ¥ç¯å¢ƒå˜é‡
cat web/.env.local

# 2. æµ‹è¯•åç«¯
curl http://localhost:8080/health

# 3. æŸ¥çœ‹å‰ç«¯æ—¥å¿—
./start.sh logs frontend

# 4. é‡æ–°æ„å»º
cd web
npm run build
cd ..
```

#### é”™è¯¯2ï¼šCORSè·¨åŸŸé”™è¯¯

**ç°è±¡**ï¼š
```
Access to fetch at 'https://xxx.railway.app/api/competition'
from origin 'https://xxx.vercel.app' has been blocked by CORS policy
```

**è§£å†³æ–¹æ³•**ï¼š

åç«¯å·²é…ç½®CORSæ”¯æŒæ‰€æœ‰åŸŸåã€‚å¦‚æœ‰é—®é¢˜ï¼Œæ£€æŸ¥åç«¯ä»£ç ä¸­çš„CORSè®¾ç½®ã€‚

#### é”™è¯¯3ï¼šAIè°ƒç”¨å¤±è´¥

**ç°è±¡**ï¼šåç«¯æ—¥å¿—æ˜¾ç¤ºAI APIè°ƒç”¨é”™è¯¯

**å¯èƒ½åŸå› **ï¼š
- DeepSeekå¯†é’¥æ— æ•ˆ
- ç½‘ç»œè¿æ¥é—®é¢˜
- å¯†é’¥æƒé™ä¸è¶³

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æµ‹è¯•APIå¯†é’¥
curl -H "Authorization: Bearer YOUR_KEY" \
     https://api.deepseek.com/v1/models

# 2. æ£€æŸ¥ä½™é¢
# ç™»å½•DeepSeekæ§åˆ¶å°æŸ¥çœ‹ä½™é¢

# 3. æ›´æ–°å¯†é’¥
# ä¿®æ”¹config.jsonï¼Œé‡æ–°éƒ¨ç½²
```

#### é”™è¯¯4ï¼šå¸å®‰APIé”™è¯¯

**å¸¸è§é”™è¯¯**ï¼š

1. **code=-4061**ï¼šæŒä»“æ¨¡å¼é”™è¯¯
   - è§£å†³ï¼šåˆ‡æ¢ä¸ºåŒå‘æŒä»“æ¨¡å¼
   - è¯¦è§[å¸¸è§é—®é¢˜](#12-å¸¸è§é—®é¢˜)

2. **code=-2019**ï¼šèµ„é‡‘ä¸è¶³
   - è§£å†³ï¼šå……å€¼æˆ–é™ä½ä»“ä½

3. **Invalid API-key**ï¼šAPIå¯†é’¥é”™è¯¯
   - è§£å†³ï¼šæ£€æŸ¥API Keyå’ŒSecret

4. **IP not allowed**ï¼šIPç™½åå•
   - è§£å†³ï¼šåœ¨å¸å®‰åå°æ·»åŠ æœåŠ¡å™¨IP

#### é”™è¯¯5ï¼šå®¹å™¨å¯åŠ¨å¤±è´¥

**ç°è±¡**ï¼š`docker compose up` æŠ¥é”™

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker compose logs

# 2. æ¸…ç†ç¼“å­˜
docker system prune -a

# 3. é‡æ–°æ„å»º
docker compose down
docker compose up -d --build
```

#### é”™è¯¯6ï¼šç«¯å£å ç”¨

**ç°è±¡**ï¼š`port is already allocated`

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -i :8080

# 2. æ€æ­»è¿›ç¨‹
kill -9 <PID>

# 3. æˆ–ä¿®æ”¹ç«¯å£
# ç¼–è¾‘ .env æ–‡ä»¶
MONNAIRE_BACKEND_PORT=8081
```

#### é”™è¯¯7ï¼šå†…å­˜ä¸è¶³

**ç°è±¡**ï¼šå®¹å™¨é¢‘ç¹é‡å¯

**è§£å†³æ–¹æ³•**ï¼š

```bash
# 1. æ£€æŸ¥å†…å­˜ä½¿ç”¨
docker stats

# 2. æ·»åŠ swap
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# 3. æ°¸ä¹…ç”Ÿæ•ˆ
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

### 8.3 æ—¥å¿—åˆ†æ

#### åç«¯æ—¥å¿—ä½ç½®

- **Docker**ï¼š`./start.sh logs backend`
- **PM2**ï¼š`./pm2.sh logs backend`

#### å‰ç«¯æ—¥å¿—ä½ç½®

- **Docker**ï¼š`./start.sh logs frontend`
- **PM2**ï¼š`./pm2.sh logs frontend`

#### å…³é”®æ—¥å¿—ä¿¡æ¯

```bash
# å¯åŠ¨æˆåŠŸ
INFO å¯åŠ¨æœåŠ¡æˆåŠŸ
INFO ç«¯å£: 8080
INFO å‰ç«¯: http://localhost:3000

# AIå†³ç­–
INFO AIåˆ†æå®Œæˆï¼Œå†³ç­–: open_long BTCUSDT
INFO å¼€ä»“æˆåŠŸ: BTCUSDT @ 97000.00

# é”™è¯¯
ERROR AI APIè°ƒç”¨å¤±è´¥: 401 Unauthorized
ERROR äº¤æ˜“å¤±è´¥: ä½™é¢ä¸è¶³
```

---

## 9. é«˜çº§é…ç½®

### 9.1 å¤šTraderé…ç½®

```json
{
  "traders": [
    {
      "id": "qwen_trader",
      "name": "Qwen AI",
      "enabled": true,
      "ai_model": "qwen",
      "exchange": "binance",
      "qwen_key": "your_qwen_key",
      "initial_balance": 1000.0
    },
    {
      "id": "deepseek_trader",
      "name": "DeepSeek AI",
      "enabled": true,
      "ai_model": "deepseek",
      "exchange": "hyperliquid",
      "hyperliquid_private_key": "your_key",
      "deepseek_key": "your_deepseek_key",
      "initial_balance": 1000.0
    }
  ]
}
```

### 9.2 è‡ªå®šä¹‰å¸ç§æ± 

```json
{
  "use_default_coins": false,
  "coin_pool_api_url": "https://your-api.com/ai500",
  "oi_top_api_url": "https://your-api.com/oi-top",
  "default_coins": []
}
```

### 9.3 Nginxåå‘ä»£ç†

**é…ç½®** `/etc/nginx/sites-available/nofx`ï¼š

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # åç«¯API
    location /api/ {
        proxy_pass http://localhost:8080/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # å¥åº·æ£€æŸ¥
    location /health {
        proxy_pass http://localhost:8080/health;
    }
}
```

**å¯ç”¨é…ç½®**ï¼š

```bash
sudo ln -s /etc/nginx/sites-available/nofx /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

### 9.4 HTTPSé…ç½®ï¼ˆLet's Encryptï¼‰

```bash
# å®‰è£… Certbot
sudo apt install -y certbot python3-certbot-nginx

# è·å–è¯ä¹¦
sudo certbot --nginx -d yourdomain.com

# è‡ªåŠ¨ç»­æœŸ
sudo crontab -e
# æ·»åŠ ï¼š
0 12 * * * /usr/bin/certbot renew --quiet
```

### 9.5 æ€§èƒ½ä¼˜åŒ–

#### åç«¯ä¼˜åŒ–

```json
{
  "traders": [
    {
      "scan_interval_minutes": 3,  // é€‚å½“å¢åŠ æ‰«æé—´éš”
      "max_daily_loss": 10.0,      // è®¾ç½®åˆç†çš„é£æ§å‚æ•°
      "max_drawdown": 20.0
    }
  ]
}
```

#### å‰ç«¯ä¼˜åŒ–

åœ¨ `web/vite.config.ts` ä¸­ï¼š

```typescript
export default defineConfig({
  build: {
    minify: 'terser',
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          charts: ['chart.js']
        }
      }
    }
  }
})
```

### 9.6 ç›‘æ§ä¸å‘Šè­¦

#### é›†æˆPrometheus

åˆ›å»º `docker-compose.monitoring.yml`ï¼š

```yaml
version: '3.8'
services:
  prometheus:
    image: prom/prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml

  grafana:
    image: grafana/grafana
    ports:
      - "3001:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
```

#### å‘Šè­¦è§„åˆ™

åˆ›å»º `alert.rules.yml`ï¼š

```yaml
groups:
  - name: nofx
    rules:
      - alert: æœåŠ¡å®•æœº
        expr: up == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Monnaire Trading Agent OSæœåŠ¡å·²å®•æœº"

      - alert: é”™è¯¯ç‡è¿‡é«˜
        expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.1
        for: 2m
        labels:
          severity: warning
        annotations:
          summary: "APIé”™è¯¯ç‡è¶…è¿‡10%"
```

---

## 10. ç»´æŠ¤ä¸æ›´æ–°

### 10.1 æ—¥å¸¸ç»´æŠ¤

#### æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# Dockeræ–¹å¼
./start.sh status

# PM2æ–¹å¼
./pm2.sh status

# æŸ¥çœ‹èµ„æºä½¿ç”¨
docker stats
```

#### æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æ—¥å¿—
./start.sh logs

# æœ€è¿‘100è¡Œ
./start.sh logs --tail=100

# ç‰¹å®šæœåŠ¡
./start.sh logs backend
./start.sh logs frontend
```

#### æ¸…ç†æ—¥å¿—

```bash
# PM2æ—¥å¿—
pm2 flush

# Dockeræ—¥å¿—
docker system prune
```

### 10.2 æ›´æ–°ç‰ˆæœ¬

#### æœ¬åœ°æ›´æ–°

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
./start.sh update
# æˆ–
./start.sh stop
./start.sh start --build
```

#### äº‘ç«¯æ›´æ–°

```bash
# æ¨é€ä»£ç åˆ°GitHub
git add .
git commit -m "update: xxx"
git push

# ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²
# Railwayå’ŒVercelä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²
```

### 10.3 æ•°æ®å¤‡ä»½

#### å¤‡ä»½é…ç½®

```bash
# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p backup/$(date +%Y%m%d)

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp config.json backup/$(date +%Y%m%d)/
cp .env backup/$(date +%Y%m%d)/

# å¤‡ä»½äº¤æ˜“æ—¥å¿—
cp -r decision_logs backup/$(date +%Y%m%d)/
```

#### æ¢å¤é…ç½®

```bash
# åœæ­¢æœåŠ¡
./start.sh stop

# æ¢å¤é…ç½®
cp backup/20241111/config.json .

# é‡å¯æœåŠ¡
./start.sh start
```

### 10.4 æ‰©å®¹

#### å‚ç›´æ‰©å®¹

å¢åŠ æœåŠ¡å™¨é…ç½®ï¼š
- CPUï¼š2æ ¸ â†’ 4æ ¸
- å†…å­˜ï¼š4GB â†’ 8GB

#### æ°´å¹³æ‰©å®¹

Docker Swarmé›†ç¾¤ï¼š

```bash
# åˆå§‹åŒ–é›†ç¾¤
docker swarm init

# éƒ¨ç½²æœåŠ¡
docker stack deploy -c docker-compose.yml nofx

# æ‰©å±•å®ä¾‹
docker service scale nofx_nofx=3
```

---

## 11. å®‰å…¨å»ºè®®

### 11.1 APIå¯†é’¥å®‰å…¨

**âŒ é”™è¯¯åšæ³•**ï¼š
```bash
# ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
binance_api_key = "abc123..."

# æäº¤åˆ°Git
git add config.json
git commit -m "add config"
```

**âœ… æ­£ç¡®åšæ³•**ï¼š
```bash
# ä½¿ç”¨ç¯å¢ƒå˜é‡
export BINANCE_API_KEY=abc123...

# .envæ–‡ä»¶ï¼ˆæ·»åŠ åˆ°.gitignoreï¼‰
echo ".env" >> .gitignore

# äº‘ç«¯ä½¿ç”¨ç¯å¢ƒå˜é‡
# Railway/Vercelåå°é…ç½®
```

### 11.2 ç½‘ç»œå®‰å…¨

#### é™åˆ¶è®¿é—®

```bash
# åªå…è®¸æœ¬åœ°è®¿é—®
./start.sh stop
# ç¼–è¾‘ docker-compose.yml
ports:
  - "127.0.0.1:8080:8080"  # åªç»‘å®šlocalhost

# é‡å¯
./start.sh start
```

#### é˜²ç«å¢™é…ç½®

```bash
# Ubuntu UFW
ufw allow 22      # SSH
ufw allow 80      # HTTP
ufw allow 443     # HTTPS
ufw enable

# ç¦æ­¢ç›´æ¥è®¿é—®8080ç«¯å£
ufw deny 8080
```

### 11.3 æ•°æ®åŠ å¯†

#### é…ç½®æ–‡ä»¶åŠ å¯†

```bash
# å®‰è£…åŠ å¯†å·¥å…·
apt install -y gpg

# åŠ å¯†é…ç½®æ–‡ä»¶
gpg -c config.json

# è§£å¯†ä½¿ç”¨
gpg -d config.json.gpg > config.json
```

#### ä¼ è¾“åŠ å¯†

**å¼ºåˆ¶HTTPS**ï¼š

Nginxé…ç½®ï¼š
```nginx
server {
    listen 443 ssl http2;
    ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;

    # å¼ºåˆ¶HTTPS
    add_header Strict-Transport-Security "max-age=31536000" always;
}
```

### 11.4 ç›‘æ§å¼‚å¸¸

#### ç™»å½•å‘Šè­¦

```bash
# ç›‘æ§å¤±è´¥ç™»å½•
grep "Failed password" /var/log/auth.log

# è®¾ç½®ç™»å½•å‘Šè­¦
echo "0 0 * * * /usr/local/bin/check-login.sh" | crontab -
```

#### å¼‚å¸¸ç›‘æ§è„šæœ¬

åˆ›å»º `monitor.sh`ï¼š

```bash
#!/bin/bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
if ! curl -f http://localhost:8080/health > /dev/null 2>&1; then
    echo "åç«¯æœåŠ¡å¼‚å¸¸" | mail -s "Monnaire Trading Agent OSå‘Šè­¦" admin@example.com
    ./start.sh restart
fi

# æ£€æŸ¥ç£ç›˜ç©ºé—´
DISK_USAGE=$(df -h / | awk 'NR==2 {print $5}' | cut -d'%' -f1)
if [ $DISK_USAGE -gt 80 ]; then
    echo "ç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡80%" | mail -s "ç£ç›˜å‘Šè­¦" admin@example.com
fi
```

---

## 12. å¸¸è§é—®é¢˜

### 12.1 éƒ¨ç½²ç›¸å…³

**Q1ï¼šéƒ¨ç½²åˆ°Railwayå¤±è´¥ï¼Ÿ**

A1ï¼š
- æ£€æŸ¥Goç‰ˆæœ¬æ˜¯å¦ä¸º1.25+
- æ£€æŸ¥config.jsonæ ¼å¼æ˜¯å¦æ­£ç¡®
- æŸ¥çœ‹Railwayéƒ¨ç½²æ—¥å¿—
- ç¡®ä¿æ²¡æœ‰ä½¿ç”¨ä¸å…¼å®¹çš„åŒ…

**Q2ï¼šVercelæ„å»ºå¤±è´¥ï¼Ÿ**

A2ï¼š
- æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆéœ€è¦18+ï¼‰
- æ£€æŸ¥web/package.jsonæ˜¯å¦å­˜åœ¨
- æ£€æŸ¥ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
- æŸ¥çœ‹Vercelæ„å»ºæ—¥å¿—

**Q3ï¼šå¦‚ä½•åˆ‡æ¢AIæ¨¡å‹ï¼Ÿ**

A3ï¼š
- ä¿®æ”¹config.jsonä¸­çš„ai_modelå­—æ®µ
- "deepseek" æˆ– "qwen"
- é‡æ–°éƒ¨ç½²ç”Ÿæ•ˆ

**Q4ï¼šæ”¯æŒå“ªäº›äº¤æ˜“æ‰€ï¼Ÿ**

A4ï¼š
- Binanceï¼ˆå¸å®‰ï¼‰
- Hyperliquid
- Aster DEX
- è¯¦è§traderç›®å½•

### 12.2 äº¤æ˜“ç›¸å…³

**Q5ï¼šå¸å®‰æŒä»“æ¨¡å¼é”™è¯¯ï¼ˆcode=-4061ï¼‰ï¼Ÿ**

A5ï¼š
- ç™»å½•å¸å®‰åˆçº¦å¹³å°
- åå¥½è®¾ç½® â†’ æŒä»“æ¨¡å¼
- åˆ‡æ¢ä¸º"åŒå‘æŒä»“"
- æ³¨æ„ï¼šéœ€è¦å…ˆå¹³æ‰æ‰€æœ‰æŒä»“

**Q6ï¼šAPIå¯†é’¥æƒé™ä¸è¶³ï¼Ÿ**

A6ï¼š
- å¸å®‰APIéœ€è¦å¼€å¯ï¼š
  - âœ… è¯»å–ä¿¡æ¯
  - âœ… æœŸè´§äº¤æ˜“
  - âŒ æç°ï¼ˆå®‰å…¨ï¼‰

**Q7ï¼šå¦‚ä½•æµ‹è¯•äº¤æ˜“ï¼Ÿ**

A7ï¼š
- ä½¿ç”¨å°èµ„é‡‘æµ‹è¯•
- è®¾ç½®è¾ƒå°çš„æ æ†ï¼ˆâ‰¤5ï¼‰
- è§‚å¯ŸAIå†³ç­–é€»è¾‘
- é€æ­¥å¢åŠ èµ„é‡‘

**Q8ï¼šAIä¸äº¤æ˜“ï¼Ÿ**

A8ï¼š
- æ£€æŸ¥AIå¯†é’¥æ˜¯å¦æœ‰æ•ˆ
- æŸ¥çœ‹åç«¯æ—¥å¿—AIåˆ†æè¿‡ç¨‹
- ç¡®è®¤å¸‚åœºæ•°æ®æ­£å¸¸
- æ£€æŸ¥å€™é€‰å¸ç§è®¾ç½®

### 12.3 æŠ€æœ¯ç›¸å…³

**Q9ï¼šå¦‚ä½•æŸ¥çœ‹AIæ€ç»´é“¾ï¼Ÿ**

A9ï¼š
- è®¿é—®å‰ç«¯é¡µé¢
- ç‚¹å‡»"å†³ç­–è¯¦æƒ…"
- æŸ¥çœ‹"AIæ€ç»´é“¾"éƒ¨åˆ†

**Q10ï¼šå¦‚ä½•è°ƒæ•´äº¤æ˜“é¢‘ç‡ï¼Ÿ**

A10ï¼š
- ä¿®æ”¹scan_interval_minutesï¼ˆå»ºè®®3-5åˆ†é’Ÿï¼‰
- ç³»ç»Ÿæ¯3åˆ†é’Ÿæ‰«æä¸€æ¬¡ï¼Œä½†ä¸ä¸€å®šäº¤æ˜“
- è€å¿ƒç­‰å¾…é«˜è´¨é‡ä¿¡å·

**Q11ï¼šæ•°æ®æŒä¹…åŒ–ï¼Ÿ**

A11ï¼š
- decision_logs/ï¼šäº¤æ˜“æ—¥å¿—
- coin_pool_cache/ï¼šå¸ç§ç¼“å­˜
- è¿™äº›æ•°æ®ä¼šæŒä¹…åŒ–åˆ°æœ¬åœ°

**Q12ï¼šå¦‚ä½•å¯¼å‡ºäº¤æ˜“æ•°æ®ï¼Ÿ**

A12ï¼š
- æ—¥å¿—æ–‡ä»¶ä½äºdecision_logsç›®å½•
- å¯å¯¼å‡ºJSONæ ¼å¼
- ç¬¬ä¸‰æ–¹å·¥å…·åˆ†æ

### 12.4 æ€§èƒ½ç›¸å…³

**Q13ï¼šç³»ç»Ÿèµ„æºå ç”¨ï¼Ÿ**

A13ï¼š
- åç«¯ï¼šçº¦200MBå†…å­˜
- å‰ç«¯ï¼šçº¦100MBå†…å­˜
- ç©ºé—²æ—¶CPU < 1%
- äº¤æ˜“æ—¶CPU < 5%

**Q14ï¼šæ”¯æŒå¤šå°‘å¹¶å‘ï¼Ÿ**

A14ï¼š
- å‰ç«¯ï¼šå–å†³äºVercel/Vercel
- åç«¯ï¼šå•å®ä¾‹çº¦1000 QPS
- å¯æ¨ªå‘æ‰©å±•

**Q15ï¼šå¦‚ä½•ä¼˜åŒ–é€Ÿåº¦ï¼Ÿ**

A15ï¼š
- ä½¿ç”¨å…¨çƒCDNï¼ˆVercelï¼‰
- å¼€å¯gzipå‹ç¼©
- å‡å°‘APIè°ƒç”¨é¢‘ç‡
- ä½¿ç”¨ç¼“å­˜

### 12.5 æˆæœ¬ç›¸å…³

**Q16ï¼šè¿è¡Œæˆæœ¬ï¼Ÿ**

A16ï¼š
- **Vercel**ï¼šä¸ªäººç‰ˆå…è´¹
- **Railway**ï¼š$5/æœˆå…è´¹é¢åº¦
- **DeepSeek**ï¼šæŒ‰ä½¿ç”¨é‡è®¡è´¹
- **æ€»è®¡**ï¼šçº¦$10-30/æœˆ

**Q17ï¼šå¦‚ä½•é™ä½æˆæœ¬ï¼Ÿ**

A17ï¼š
- æœ¬åœ°éƒ¨ç½²ï¼ˆä»…éœ€ç”µè´¹ï¼‰
- å‡å°‘AIè°ƒç”¨é¢‘ç‡
- ä¼˜åŒ–ä»£ç é€»è¾‘
- ä½¿ç”¨å…è´¹é¢åº¦

---

## ğŸ‰ éƒ¨ç½²å®Œæˆï¼

æ­å–œä½ å®Œæˆäº†Monnaire Trading Agent OSçš„éƒ¨ç½²ï¼ç°åœ¨ä½ å¯ä»¥ï¼š

### æ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿ

1. **ğŸ§ª åŠŸèƒ½æµ‹è¯•**
   - ç†Ÿæ‚‰Webç•Œé¢
   - æŸ¥çœ‹AIå†³ç­–
   - è§‚å¯Ÿäº¤æ˜“æ—¥å¿—

2. **âš™ï¸ å‚æ•°è°ƒä¼˜**
   - è°ƒæ•´æ æ†å¤§å°
   - è®¾ç½®é£æ§å‚æ•°
   - é€‰æ‹©äº¤æ˜“å¸ç§

3. **ğŸ“ˆ ç›‘æ§æ•°æ®**
   - æŸ¥çœ‹å¤æ™®æ¯”ç‡
   - åˆ†æäº¤æ˜“è¡¨ç°
   - ä¼˜åŒ–ç­–ç•¥

4. **ğŸ”§ äºŒæ¬¡å¼€å‘**
   - ä¿®æ”¹å‰ç«¯UI
   - æ·»åŠ æ–°åŠŸèƒ½
   - é›†æˆæ–°äº¤æ˜“æ‰€

### è·å–å¸®åŠ©

- ğŸ“– **æ–‡æ¡£**ï¼šæŸ¥çœ‹é¡¹ç›®README
- ğŸ’¬ **ç¤¾åŒº**ï¼šåŠ å…¥Telegramç¾¤
- ğŸ› **Bugåé¦ˆ**ï¼šGitHub Issues
- ğŸ“§ **é‚®ä»¶**ï¼šsupport@example.com

---

## ğŸ“š æ‰©å±•é˜…è¯»

1. **AIäº¤æ˜“ç†è®º**
   - [å¤æ™®æ¯”ç‡è¯¦è§£](https://www.investopedia.com/terms/s/sharperatio.asp)
   - [é£é™©æ§åˆ¶ç­–ç•¥](https://www.investopedia.com/articles/trading/09/risk-management.asp)
   - [é‡åŒ–äº¤æ˜“å…¥é—¨](https://www.quantopian.com/lectures/introduction-to-quantitative-trading)

2. **æŠ€æœ¯æ–‡æ¡£**
   - [Goè¯­è¨€æ•™ç¨‹](https://go.dev/doc/)
   - [Reactå®˜æ–¹æ–‡æ¡£](https://react.dev/)
   - [Dockerå®˜æ–¹æŒ‡å—](https://docs.docker.com/)

3. **äº¤æ˜“æ‰€API**
   - [Binance Futures API](https://binance-docs.github.io/apidocs/futures/en/)
   - [Hyperliquidæ–‡æ¡£](https://hyperliquidxyz.github.io/info)
   - [Aster APIå‚è€ƒ](https://www.asterdex.com/en/api-docs)

---

**ç¥äº¤æ˜“æ„‰å¿«ï¼ğŸš€**

æœ€åæ›´æ–°ï¼š2025-11-11
