# 安全中间件配置
# 复制此文件为 .env.local 并根据实际环境配置

# ==================
# Redis配置
# ==================
# Redis主机地址
REDIS_HOST=localhost

# Redis端口
REDIS_PORT=6379

# Redis密码 (如果有)
REDIS_PASSWORD=

# Redis数据库编号
REDIS_DB=0

# ==================
# CORS配置
# ==================
# 允许的域名白名单 (逗号分隔)
# 例如: https://example.com,https://app.example.com
ALLOWED_ORIGINS=https://agentrade-ewdgilcgj-gyc567s-projects.vercel.app

# ==================
# 安全头配置
# ==================
# 启用COOP/COEP (Cross-Origin isolation)
# 警告: 启用后会禁用SharedArrayBuffer
ENABLE_COOP_COEP=false

# ==================
# 速率限制配置
# ==================

# Web3钱包连接限制
# 窗口时间 (毫秒)
WALLET_CONNECTION_WINDOW_MS=60000
# 最大请求数
WALLET_CONNECTION_MAX=3

# Web3认证限制
WEB3_AUTH_WINDOW_MS=300000
WEB3_AUTH_MAX=10

# 钱包查询限制
WALLET_QUERY_WINDOW_MS=60000
WALLET_QUERY_MAX=60

# 钱包绑定限制
WALLET_BIND_WINDOW_MS=600000
WALLET_BIND_MAX=5

# 公共API限制
PUBLIC_API_WINDOW_MS=60000
PUBLIC_API_MAX=100

# ==================
# 监控配置
# ==================
# 启用安全监控
ENABLE_SECURITY_MONITORING=true

# 安全日志级别 (error, warn, info, debug)
SECURITY_LOG_LEVEL=info

# 异常告警阈值
ALERT_THRESHOLD=10

# ==================
# 环境配置
# ==================
NODE_ENV=production

# ==================
# Vercel部署配置
# ==================
# Vercel环境变量已在控制台配置
# 不需要在此文件中重复配置
